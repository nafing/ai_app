import{aj as n,a as c,j as a,G as m,B as d,d as i}from"./index-BrAtYWpN.js";import{u,h as o,T as h}from"./has-length-BOrLbff2.js";import{S as p}from"./Stack-MIQAC9Ot.js";import{T as b}from"./Title-VPPFuY2B.js";import{M as s}from"./MultiSelect-BqTAZWBQ.js";function g(){const r=n.useLoaderData(),l=c(),t=u({mode:"uncontrolled",initialValues:r.chat,validate:{name:o({min:1},"Name is required"),characterIds:o({min:1},"At least one character is required")}});return a.jsx("form",{onSubmit:t.onSubmit(async e=>{await i.chats.update(r.chat.id,{name:e.name,characterIds:e.characterIds,lorebookIds:e.lorebookIds}).then(()=>{l({to:"/chat"})})}),children:a.jsxs(p,{children:[a.jsxs(m,{justify:"space-between",align:"end",mb:"md",children:[a.jsx(b,{order:2,children:"Update Chat"}),a.jsx(d,{type:"submit",children:"Update Chat"})]}),a.jsx(h,{label:"Name",placeholder:"Enter chat name",...t.getInputProps("name")},t.key("name")),a.jsx(s,{label:"Characters",placeholder:"Select characters",data:r.characters.map(e=>({value:e.id,label:e.inChatName}))||[],...t.getInputProps("characterIds"),multiple:!0,searchable:!0},t.key("characterIds")),a.jsx(s,{label:"Lorebooks",placeholder:"Attach lorebooks",data:r.lorebooks.map(e=>({value:e.id,label:e.name})),...t.getInputProps("lorebookIds"),multiple:!0,searchable:!0,clearable:!0},t.key("lorebookIds"))]})})}export{g as component};
