import{u,R as l,j as e,G as o,B as s,L as m,M as j,d}from"./index-BrAtYWpN.js";import{u as C}from"./dexie-react-hooks-CsjlevEe.js";import{T as f}from"./Title-VPPFuY2B.js";import{S as c}from"./Stack-MIQAC9Ot.js";import{C as g}from"./Card-D_uNUUZV.js";import{A as w}from"./Avatar-CJ7XAVRD.js";import{T as h}from"./Text-BYB51XnE.js";function T(){const a=C(()=>d.characters.toArray()),[n,r]=u(),[i,p]=l.useState(null),x=t=>{p(t),r.open()};return e.jsxs(l.Fragment,{children:[e.jsxs(o,{justify:"space-between",align:"end",mb:"md",children:[e.jsx(f,{order:2,children:"Characters"}),e.jsx(s,{component:m,to:"/character/new/",children:"New Character"})]}),e.jsx(c,{gap:"xs",children:a?.map(t=>e.jsx(y,{c:t,onDelete:()=>x(t.id)},t.id))}),e.jsxs(j,{opened:n,onClose:r.close,title:"Delete Character",children:["Are you sure you want to delete this character?",e.jsxs(o,{mt:"md",justify:"flex-end",children:[e.jsx(s,{variant:"default",onClick:r.close,children:"Cancel"}),e.jsx(s,{color:"red",onClick:async()=>{i&&await d.characters.delete(i),r.close()},children:"Delete"})]})]})]})}function y({c:a,onDelete:n}){return e.jsx(g,{radius:"md",p:"md",withBorder:!0,style:{backdropFilter:"saturate(180%) blur(20px)",backgroundColor:"rgba(0, 0, 0, 0.3)"},children:e.jsxs(o,{justify:"space-between",children:[e.jsxs(o,{wrap:"nowrap",children:[e.jsx(w,{radius:"xl",src:a.avatar,alt:a.name,size:"lg"}),e.jsxs(c,{gap:4,children:[e.jsx(h,{fw:600,children:a.name}),e.jsx(h,{size:"sm",c:"dimmed",children:a.inChatName})]})]}),e.jsxs(c,{gap:"xs",children:[e.jsx(s,{onClick:r=>{r.stopPropagation()},component:m,to:`/character/${a.id}`,size:"compact-xs",children:"Edit"}),e.jsx(s,{size:"compact-xs",color:"red",onClick:r=>{r.preventDefault(),r.stopPropagation(),n()},children:"Delete"})]})]})})}export{T as component};
