import{u as f,R as d,j as e,G as c,B as n,L as u,d as r,M as w,T as p}from"./index-C0zzDxg3.js";import{u as C}from"./dexie-react-hooks-C6CB1zr1.js";import{T as g}from"./Title-CS8W2Y1W.js";import{S as l}from"./Stack-Dq9b-9EA.js";import{C as y}from"./Card-DjzwjL3m.js";function R(){const s=C(()=>r.presets.toArray()),[a,o]=f(),[t,m]=d.useState(null),x=i=>{m(i),o.open()};return e.jsxs(d.Fragment,{children:[e.jsxs(c,{justify:"space-between",align:"end",mb:"md",children:[e.jsx(g,{order:2,children:"Presets"}),e.jsx(n,{component:u,to:"/preset/new/",children:"New Preset"})]}),e.jsx(l,{gap:"xs",children:s?.map(i=>e.jsx(v,{p:i,onDelete:()=>x(i.id),setAsActive:()=>{r.transaction("rw",r.presets,async()=>{const j=await r.presets.toArray();for(const h of j)await r.presets.update(h.id,{isActive:!1});await r.presets.update(i.id,{isActive:!0})})}},i.id))}),e.jsxs(w,{opened:a,onClose:o.close,title:"Delete Preset",children:["Are you sure you want to delete this preset?",e.jsxs(c,{mt:"md",justify:"flex-end",children:[e.jsx(n,{variant:"default",onClick:o.close,children:"Cancel"}),e.jsx(n,{color:"red",onClick:async()=>{t&&await r.presets.delete(t),o.close()},children:"Delete"})]})]})]})}function v({p:s,onDelete:a,setAsActive:o}){return e.jsx(y,{radius:"md",p:"md",withBorder:!0,style:{backdropFilter:"saturate(180%) blur(20px)",backgroundColor:`rgba(0, 0, 0, ${s.isActive?.85:.25})`},onClick:()=>o(),children:e.jsxs(c,{justify:"space-between",wrap:"nowrap",children:[e.jsxs(l,{gap:4,children:[e.jsxs(p,{fw:600,children:[s.name," (",s.isActive?"Active":"Inactive",")"]}),e.jsx(p,{size:"sm",c:"dimmed",children:s.model})]}),e.jsxs(l,{gap:"xs",children:[e.jsx(n,{onClick:t=>{t.stopPropagation()},component:u,to:`/preset/${s.id}`,size:"compact-xs",children:"Edit"}),e.jsx(n,{size:"compact-xs",color:"red",onClick:t=>{t.preventDefault(),t.stopPropagation(),a()},children:"Delete"})]})]})})}export{R as component};
