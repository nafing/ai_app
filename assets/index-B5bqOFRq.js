import{u,R as l,j as e,G as n,B as s,L as m,M as j,d,T as h}from"./index-C0zzDxg3.js";import{u as C}from"./dexie-react-hooks-C6CB1zr1.js";import{T as f}from"./Title-CS8W2Y1W.js";import{S as c}from"./Stack-Dq9b-9EA.js";import{C as g}from"./Card-DjzwjL3m.js";import{A as w}from"./Avatar-Bk6D0BYS.js";function R(){const a=C(()=>d.characters.toArray()),[o,r]=u(),[i,p]=l.useState(null),x=t=>{p(t),r.open()};return e.jsxs(l.Fragment,{children:[e.jsxs(n,{justify:"space-between",align:"end",mb:"md",children:[e.jsx(f,{order:2,children:"Characters"}),e.jsx(s,{component:m,to:"/character/new/",children:"New Character"})]}),e.jsx(c,{gap:"xs",children:a?.map(t=>e.jsx(y,{c:t,onDelete:()=>x(t.id)},t.id))}),e.jsxs(j,{opened:o,onClose:r.close,title:"Delete Character",children:["Are you sure you want to delete this character?",e.jsxs(n,{mt:"md",justify:"flex-end",children:[e.jsx(s,{variant:"default",onClick:r.close,children:"Cancel"}),e.jsx(s,{color:"red",onClick:async()=>{i&&await d.characters.delete(i),r.close()},children:"Delete"})]})]})]})}function y({c:a,onDelete:o}){return e.jsx(g,{radius:"md",p:"md",withBorder:!0,style:{backdropFilter:"saturate(180%) blur(20px)",backgroundColor:"rgba(0, 0, 0, 0.3)"},children:e.jsxs(n,{justify:"space-between",children:[e.jsxs(n,{wrap:"nowrap",children:[e.jsx(w,{radius:"xl",src:a.avatar,alt:a.name,size:"lg"}),e.jsxs(c,{gap:4,children:[e.jsx(h,{fw:600,children:a.name}),e.jsx(h,{size:"sm",c:"dimmed",children:a.inChatName})]})]}),e.jsxs(c,{gap:"xs",children:[e.jsx(s,{onClick:r=>{r.stopPropagation()},component:m,to:`/character/${a.id}`,size:"compact-xs",children:"Edit"}),e.jsx(s,{size:"compact-xs",color:"red",onClick:r=>{r.preventDefault(),r.stopPropagation(),o()},children:"Delete"})]})]})})}export{R as component};
