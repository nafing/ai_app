import{n as i,a as l,g as m,j as a,G as p,B as d,m as o,d as c}from"./index-PeDk-rhE.js";import{u,h as r}from"./has-length-DJaMuJ2c.js";import{S as h}from"./Stack-BXTpW8x9.js";import{T as b}from"./Title-DvaKk0VA.js";import{T as x}from"./Textarea-DchTdnJT.js";import{M as j}from"./MultiSelect-DIoG5iXX.js";function y(){const s=i.useLoaderData(),n=l(),e=u({mode:"uncontrolled",initialValues:{id:m(),isActive:!1,avatar:"",name:"",inChatName:"",description:"",lorebookIds:[]},validate:{name:r({min:1},"Name is required"),inChatName:r({min:1},"In Chat Name is required"),description:r({min:1},"Description is required")}});return a.jsx("form",{onSubmit:e.onSubmit(async t=>{await c.personas.add(t).then(()=>{n({to:"/persona"})})}),children:a.jsxs(h,{children:[a.jsxs(p,{justify:"space-between",align:"end",mb:"md",children:[a.jsx(b,{order:2,children:"New Persona"}),a.jsx(d,{type:"submit",children:"Create Persona"})]}),a.jsx(o,{label:"Name",placeholder:"Enter persona name",...e.getInputProps("name")},e.key("name")),a.jsx(o,{label:"In Chat Name",placeholder:"Enter in chat name",...e.getInputProps("inChatName")},e.key("inChatName")),a.jsx(o,{label:"Avatar",placeholder:"Enter avatar URL",...e.getInputProps("avatar")},e.key("avatar")),a.jsx(x,{label:"Description",placeholder:"Enter description",...e.getInputProps("description"),minRows:2,autosize:!0},e.key("description")),a.jsx(j,{label:"Lorebooks",placeholder:"Attach lorebooks",data:s.map(t=>({value:t.id,label:t.name})),searchable:!0,clearable:!0,...e.getInputProps("lorebookIds")},e.key("lorebookIds"))]})})}export{y as component};
