import{ak as n,a as c,j as a,G as m,B as d,m as i,d as u}from"./index-B4XXapqm.js";import{u as h,h as o}from"./has-length--E5UIz8s.js";import{S as p}from"./Stack-DXppRYmq.js";import{T as b}from"./Title-BN9HuS6F.js";import{M as s}from"./MultiSelect-tt5nua0E.js";function g(){const r=n.useLoaderData(),l=c(),t=h({mode:"uncontrolled",initialValues:r.chat,validate:{name:o({min:1},"Name is required"),characterIds:o({min:1},"At least one character is required")}});return a.jsx("form",{onSubmit:t.onSubmit(async e=>{await u.chats.update(r.chat.id,{name:e.name,characterIds:e.characterIds,lorebookIds:e.lorebookIds}).then(()=>{l({to:"/chat"})})}),children:a.jsxs(p,{children:[a.jsxs(m,{justify:"space-between",align:"end",mb:"md",children:[a.jsx(b,{order:2,children:"Update Chat"}),a.jsx(d,{type:"submit",children:"Update Chat"})]}),a.jsx(i,{label:"Name",placeholder:"Enter chat name",...t.getInputProps("name")},t.key("name")),a.jsx(s,{label:"Characters",placeholder:"Select characters",data:r.characters.map(e=>({value:e.id,label:e.inChatName}))||[],...t.getInputProps("characterIds"),multiple:!0,searchable:!0},t.key("characterIds")),a.jsx(s,{label:"Lorebooks",placeholder:"Attach lorebooks",data:r.lorebooks.map(e=>({value:e.id,label:e.name})),...t.getInputProps("lorebookIds"),multiple:!0,searchable:!0,clearable:!0},t.key("lorebookIds"))]})})}export{g as component};
